echo "ğŸ” Ejecutando lint-staged para frontend..."
npx lint-staged || exit 1

echo "ğŸ” Ejecutando tsc para frontend..."
npx tsc --noEmit -p tsconfig.json

echo "ğŸ Ejecutando pre-commit para backend (Python)..."
# Usa `command -v pre-commit` para encontrarlo automÃ¡ticamente en el sistema o en un entorno virtual
PRECOMMIT=$(command -v pre-commit)

if [ -z "$PRECOMMIT" ]; then
  echo "âŒ No se encontrÃ³ 'pre-commit' en el entorno. Â¿EstÃ¡ instalado?"
  echo "InstÃ¡lalo con: pip install pre-commit"
  exit 1
fi

$PRECOMMIT run --config backend/.pre-commit-config.yaml --from-ref origin/main --to-ref HEAD --color always || exit 1
